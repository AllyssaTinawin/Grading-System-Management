<div class="p-4 border-2 flex flex-col border-gray-200 border-dashed rounded-lg dark:border-gray-700">
    <div class="mb-8">
        <h1 class="uppercase text-4xl font-bold text-[#059142]">Grading Criteria</h1>
        <div class="flex gap-4 mt-4 items-center">
            <h1 class="">Select Class: </h1>
            <select [(ngModel)]="selectedClass" (change)="onChange()" id="classes" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
            <option *ngFor="let class of classes" [value]="class._id">{{ class.subjectCode | uppercase}}</option>
            </select>
        </div>
        <button onclick="my_modal_3.showModal()" type="submit" class="focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mt-4 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">Add Criteria</button>
    </div>

    <div *ngFor="let type of criteriaTypes" class="flex gap-4 items-center">
        <div  class="flex justify-between px-8 py-4 my-2 bg-[#FFFDE7] border border-gray-100 rounded drop-shadow w-full">
            <h1 class="font-semibold text-xl cursor-pointer">{{ type.type}}</h1>
            <p class="text-xl ">{{ type.percentage}}%</p>
        </div>
        <div class="flex">
            <button (click)="isEdit(type._id)" onclick="my_modal_3.showModal()" class="px-4 py-1 bg-blue-500 text-white ">Edit</button>
        </div>
    </div>

</div>


<dialog id="my_modal_3" class="modal">
    <div class="modal-box">
        <form method="dialog">
        <button (click)="closeEdit()" class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">âœ•</button>
        </form>
        <h3 class="font-bold text-lg">Add Criteria Type</h3>
        
        <form class="mt-4" (submit)="onSubmit()" #f="ngForm">
            <div class="relative">
                <input  required ngModel type="text" id="criteriaName" name="criteriaName" class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
                <label for="criteriaName" class="absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">Enter Criteria Type</label>
            </div>
            <h1 class="mt-2 text-gray-500">Example: Performace Task, Lecture, Lab, Exams</h1>
            <div class="relative mt-4">
                <input max="100" required ngModel type="number" id="percentage" name="percentage" class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
                <label for="percentage" class="absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">Percentage</label>
            </div>
            <h1 class="mt-2 text-gray-500">Example: 10%</h1>
            <div class="flex justify-center items-center mt-16 gap-2">
                <button type="submit" class="focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5  dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">{{ _isEdit ? 'Edit' : 'Add'}} Criteria Type</button>
                <form method="dialog" class="flex gap-2">
                    <button *ngIf="_isEdit" (click)="deleteCriteria()" class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5  dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800">Delete Criteria Type</button>
                    <button (click)="closeEdit()" class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5  dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">Close</button>
                </form>
            </div>
        
        </form>
    </div>
</dialog>
